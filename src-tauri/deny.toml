# cargo-deny configuration
# https://embarkstudios.github.io/cargo-deny/

[advisories]
version = 2
db-path = "~/.cargo/advisory-db"
db-urls = ["https://github.com/rustsec/advisory-db"]
# Ignore unmaintained crates used by Tauri's transitive dependencies
# These are dependencies we can't control; waiting for upstream fixes
# See: https://github.com/tauri-apps/tauri/issues
ignore = [
    # gtk-rs GTK3 bindings (Linux only, unmaintained)
    "RUSTSEC-2024-0411", # atk unmaintained
    "RUSTSEC-2024-0412", # cairo-rs unmaintained
    "RUSTSEC-2024-0413", # gdk unmaintained
    "RUSTSEC-2024-0414", # gdk-pixbuf unmaintained
    "RUSTSEC-2024-0415", # gio unmaintained
    "RUSTSEC-2024-0416", # glib unmaintained
    "RUSTSEC-2024-0417", # gtk unmaintained
    "RUSTSEC-2024-0418", # javascriptcore-rs unmaintained
    "RUSTSEC-2024-0419", # pango unmaintained
    "RUSTSEC-2024-0420", # webkit2gtk unmaintained
    "RUSTSEC-2024-0429", # glib VariantStrIter unsound
    # Other unmaintained dependencies
    "RUSTSEC-2024-0370", # proc-macro-error unmaintained
    "RUSTSEC-2025-0057", # fxhash unmaintained
    "RUSTSEC-2025-0075", # proc-macro-error unmaintained
    # unic-* crates (via urlpattern)
    "RUSTSEC-2025-0080", # unic-common unmaintained
    "RUSTSEC-2025-0081", # unic-char-range unmaintained
    "RUSTSEC-2025-0098", # unic-ucd-version unmaintained
    "RUSTSEC-2025-0100", # unic-ucd-ident unmaintained
]

[licenses]
version = 2
# Allow common permissive licenses
allow = [
    "MIT",
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "0BSD",
    "BSL-1.0",
    "ISC",
    "Unlicense",
    "Zlib",
    "MPL-2.0",
    "Unicode-3.0",
]
confidence-threshold = 0.8

[bans]
multiple-versions = "warn"
wildcards = "allow"

[sources]
unknown-registry = "warn"
unknown-git = "warn"
